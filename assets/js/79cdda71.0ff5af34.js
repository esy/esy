"use strict";(self.webpackChunksite_v_3=self.webpackChunksite_v_3||[]).push([[4461],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=a,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||o;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1118:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={author:"Manas Jayanth",authorURL:"https://twitter.com/ManasJayanth",title:"New release - 0.6.0 \ud83c\udf89"},i=void 0,s={permalink:"/blog/2020/01/12/0.6.0",source:"@site/blog/2020-01-12-0.6.0.md",title:"New release - 0.6.0 \ud83c\udf89",description:"We went quite again for a while with the blog - between the last post, we released 0.5.* and now 0.6.0.",date:"2020-01-12T00:00:00.000Z",formattedDate:"January 12, 2020",tags:[],readingTime:1.73,hasTruncateMarker:!0,authors:[{name:"Manas Jayanth",url:"https://twitter.com/ManasJayanth"}],frontMatter:{author:"Manas Jayanth",authorURL:"https://twitter.com/ManasJayanth",title:"New release - 0.6.0 \ud83c\udf89"},nextItem:{title:"What's new in esy 0.4.x",permalink:"/blog/2018/12/27/0.4.x"}},l={authorsImageUrls:[void 0]},c=[{value:"esy cleanup",id:"esy-cleanup",level:3},{value:"Improved solver performance with better CUDF encoding",id:"improved-solver-performance-with-better-cudf-encoding",level:3},{value:"Recursive fetching of submodules, when building packages from source",id:"recursive-fetching-of-submodules-when-building-packages-from-source",level:3},{value:"Long paths on Windows",id:"long-paths-on-windows",level:3},{value:"Other Notable fixes",id:"other-notable-fixes",level:3}],u={toc:c},p="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"We went quite again for a while with the blog - between the last post, we released 0.5.* and now 0.6.0."),(0,a.kt)("p",null,"This time received contributions from 28 contributors! Thank you\neveryone! Let's take a quick look at what new in 0.6.0."),(0,a.kt)("h3",{id:"esy-cleanup"},"esy cleanup"),(0,a.kt)("p",null,"We added a sub-command ",(0,a.kt)("inlineCode",{parentName:"p"},"cleanup")," to reclaim disk space by purging\nunused builds. Over time, cached builds would just accumulate in\n",(0,a.kt)("inlineCode",{parentName:"p"},"~/.esy")," and the only way to reclaim space was to delete it\nentirely. Users had no way of knowing which cached builds were in use\nby projects and would end up seeing long build times again after deleting the the cached directory."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"esy cleanup")," takes in a list of projects in use as arguments and\nremoves all cached builds not needed by any of them:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ esy cleanup ./project/in/use ./another/project\n")),(0,a.kt)("p",null,"See ",(0,a.kt)("a",{parentName:"p",href:"https://esy.sh/docs/en/commands.html#esy-cleanup"},"docs")," for more information."),(0,a.kt)("h3",{id:"improved-solver-performance-with-better-cudf-encoding"},"Improved solver performance with better CUDF encoding"),(0,a.kt)("p",null,"We re-worked how we encode dependencies which improved solver\nperformance, fixed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/esy/esy/issues/883"},"critical bug"),". More on this can found at issue ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/esy/esy/issues/888"},"#888")),(0,a.kt)("h3",{id:"recursive-fetching-of-submodules-when-building-packages-from-source"},"Recursive fetching of submodules, when building packages from source"),(0,a.kt)("p",null,"As a move towards ensuring better compatibility with opam, we\nrecursively fetch submodules when fetching from git sources."),(0,a.kt)("p",null,"Now esy can install and build packages from git/github even if they depend on\nsubmodules."),(0,a.kt)("h3",{id:"long-paths-on-windows"},"Long paths on Windows"),(0,a.kt)("p",null,"We were earlier constrained to only use 33 characters in the\nartifact paths in our binaries on Windows - this caused\nrelocatability issues and delayed our plans of fetching prebuilts\nfor esy sandbox. With this release, esy now enables long paths on\nsupported Windows machines and brings back relocatability (and\nthere shorted build times with prebuilts) back on the table."),(0,a.kt)("h3",{id:"other-notable-fixes"},"Other Notable fixes"),(0,a.kt)("p",null,"Besides that 0.6.0 contains fixes for not a small number of bugs, many doc\nupdates and small quality-of-life improvements. Some things worth mentioning:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"More robust project discovery"),(0,a.kt)("li",{parentName:"ul"},"Improved git source parsing"),(0,a.kt)("li",{parentName:"ul"},"Test suite improvements"),(0,a.kt)("li",{parentName:"ul"},"New command esy run-script SCRIPTNAME which provides a future proof way of\nrunning package.json scripts")),(0,a.kt)("p",null,"The entire changelog can be found ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/esy/esy/blob/master/CHANGELOG.md#060--latest"},"here"),"."))}d.isMDXComponent=!0}}]);