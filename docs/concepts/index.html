<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Concepts | esy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://esy.sh/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://esy.sh/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://esy.sh/docs/concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Concepts | esy"><meta data-rh="true" name="description" content="This serves as a glossary and an overview of concepts used in esy with links to"><meta data-rh="true" property="og:description" content="This serves as a glossary and an overview of concepts used in esy with links to"><link data-rh="true" rel="icon" href="/img/block-red.svg"><link data-rh="true" rel="canonical" href="https://esy.sh/docs/concepts"><link data-rh="true" rel="alternate" href="https://esy.sh/docs/concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://esy.sh/docs/concepts" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NVSKCZKSMV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="esy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="esy Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="esy" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.8181f16e.css">
<script src="/assets/js/runtime~main.949d9037.js" defer="defer"></script>
<script src="/assets/js/main.a58b0544.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/block-red.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/block-red.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">esy</b></a><a class="navbar__item navbar__link" href="/docs/getting-started">Getting started</a><a class="navbar__item navbar__link" href="/docs/community">Community</a><a href="https://github.com/esy/esy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/what-why">workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/concepts">reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concepts">Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration">Project Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/environment">Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/commands">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/low-level-commands">Low Level Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/esy-configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-compatibility">Node/npm Compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faqs">Frequently Asked Questions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/community">community</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/multiple-sandboxes">advanced workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/contributing/how-it-works">contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Concepts</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Concepts</h1></header><p>This serves as a glossary and an overview of concepts used in esy with links to
detailed guide.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-sandbox">Project Sandbox<a href="#project-sandbox" class="hash-link" aria-label="Direct link to Project Sandbox" title="Direct link to Project Sandbox">​</a></h2>
<p>A directory with a <a href="#manifest">manifest</a> (usually <code>package.json</code>).</p>
<p>Almost every <code>esy</code> command operates in the context of a project sandbox.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="manifest">Manifest<a href="#manifest" class="hash-link" aria-label="Direct link to Manifest" title="Direct link to Manifest">​</a></h2>
<p>A JSON file usually called <code>package.json</code> which contains information about esy
package:</p>
<ul>
<li>Package name and version.</li>
<li>Dependency declarations.</li>
<li>Commands needed to build and install package artifacts.</li>
<li>Other metadata</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-esyjson">Support for esy.json<a href="#support-for-esyjson" class="hash-link" aria-label="Direct link to Support for esy.json" title="Direct link to Support for esy.json">​</a></h4>
<p>Usually a manifest is represented as <code>package.json</code> but to allow <code>package.json</code>
to be used exclusively with npm, esy allows manifests to be represented as
<code>esy.json</code> files. In the case both <code>package.json</code> and <code>esy.json</code> are present in
the sandbox esy will prefer <code>esy.json</code> over <code>package.json</code>.</p>
<blockquote>
<p>Note that in case of a published (on npm registry) package esy won&#x27;t be able
to access <code>esy.json</code> and will only read metadata using npm registry API which
is populated from <code>package.json</code> during publish time.</p>
<p>Maintainers will need to make sure they have crafted a correct <code>package.json</code>
with metadata during publish process.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="package">Package<a href="#package" class="hash-link" aria-label="Direct link to Package" title="Direct link to Package">​</a></h2>
<p>A unit of software distribution and the smallest unit which is esy operates on.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-mode-and-development-mode">Release mode and Development mode<a href="#release-mode-and-development-mode" class="hash-link" aria-label="Direct link to Release mode and Development mode" title="Direct link to Release mode and Development mode">​</a></h2>
<p>Any package can be built in two modes - release or development.</p>
<p>During release, a package is built as if it were being consumed by another dependency. Only its <code>dependencies</code> are built (not <code>devDependencies</code>)</p>
<p>During development mode, a package (most often only the <a href="#root-package">root</a>, is built along with it&#x27;s <code>devDependencies</code> with a special flag set (not important what exactly it is) to signify that a package is being built in development mode. When this flag is set, alternatives to regular configuration (like <code>buildDev</code> instead of <code>build</code>) are selected in the sandbox.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="root-package">Root package<a href="#root-package" class="hash-link" aria-label="Direct link to Root package" title="Direct link to Root package">​</a></h2>
<p>Package at the root of a <a href="#sandbox">sandbox</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dependency">Dependency<a href="#dependency" class="hash-link" aria-label="Direct link to Dependency" title="Direct link to Dependency">​</a></h2>
<p>Any package that the root package needs to build the sandbox (either during development or releases mode)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="regular-dependency">Regular dependency<a href="#regular-dependency" class="hash-link" aria-label="Direct link to Regular dependency" title="Direct link to Regular dependency">​</a></h2>
<p>Dependencies that are required when a package is built in release mode. These are specified in the <code>dependencies</code> field.</p>
<p>Packages like <code>@reason-native/console</code> are a good example of regular dependencies as these dependencies are required to the build a given root package. They differ from development time dependencies (like <code>@reason-native/rely</code>) as we&#x27;ll see next.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-time-dependency">Development time dependency<a href="#development-time-dependency" class="hash-link" aria-label="Direct link to Development time dependency" title="Direct link to Development time dependency">​</a></h2>
<p>Dependencies that are required <strong>only</strong> during development mode are specified in the <code>devDependencies</code> (similar to how yarn and npm work)</p>
<p>Good examples of dev-dependency is <code>@opam/ocaml-lsp-server</code> or <code>@reason-native/rely</code> as it is only required during development of the root package.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-time-dependency">Build time dependency<a href="#build-time-dependency" class="hash-link" aria-label="Direct link to Build time dependency" title="Direct link to Build time dependency">​</a></h2>
<p>Some dependencies are needed during the build. <code>@opam/dune</code> and autotools packages are good examples.</p>
<p>Build time dependencies are meant to be specified as <code>regular</code> dependencies as they are needed by the package dependending on it. Build time packages are better compared with runtime packages (instead of dependencies/devDependencies). Once the root package is built, build dependencies are not needed anymore by the root package. Runtime dependencies on the other hand are still needed in the sandbox for the root package to run correctly. <code>@opam/uchar</code> is a good example of runtime package. A binary depending on it needs it installed in the sandbox when it is run.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="peer-dependency">Peer dependency<a href="#peer-dependency" class="hash-link" aria-label="Direct link to Peer dependency" title="Direct link to Peer dependency">​</a></h2>
<p>Deprecated. We now recommend <code>resolutions</code> mechanism over peer dependencies.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h2>
<p>A result of solving dependencies for a project sandbox.</p>
<p>Cached as <code>esy.lock</code> directory in the root of a project.</p>
<p>It is advised to commit this file to a project&#x27;s repository so that the build
environment is reproducible and doesn&#x27;t depend on the current state of package
registries (either npm or opam).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stores">Stores<a href="#stores" class="hash-link" aria-label="Direct link to Stores" title="Direct link to Stores">​</a></h2>
<p>Esy maintains three kinds of artifacts - sources, builds and installed artfiacts - in three different locations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sources">Sources<a href="#sources" class="hash-link" aria-label="Direct link to Sources" title="Direct link to Sources">​</a></h3>
<p>Source entries in the esy store are source code files and the recipes that build and install them bundled together. Change any of them, and esy creates a different entry for the source of a package.</p>
<p>If, for instance, build instructions of a package from opam are overridden (and the source files are not necessarily touched), esy places them in a different location.</p>
<p>Conceptually, a source entry in the esy store is both its source files and its recipe.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-store">Build store<a href="#build-store" class="hash-link" aria-label="Direct link to Build store" title="Direct link to Build store">​</a></h3>
<p>Build store is simply location where build artifacts are stored. They can be local to a project or global (so that they can be reused).</p>
<p>Build artifacts (object files, bytecode files etc) stored as separate entries dependending on the instructions that build and install them, environment variables present during its build and of course the sources (source code + recipe).</p>
<p>Change anyone of them, and esy creates a separate entry in the build store.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="global-build-store">Global build store<a href="#global-build-store" class="hash-link" aria-label="Direct link to Global build store" title="Direct link to Global build store">​</a></h4>
<p>Store where the build entries common to multiple projects are stored. This can be considered a a cache too.</p>
<p>By default the global install store can be found at <code>~/.esy/3/b</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="local-build-store">Local build store<a href="#local-build-store" class="hash-link" aria-label="Direct link to Local build store" title="Direct link to Local build store">​</a></h4>
<p>Store where build entries that are relevant only to a give project are store.</p>
<p>By default the global install store can be found at <code>&lt;project root&gt;/_esy/default/store/b/&lt;build_id&gt;</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-store">Install store<a href="#install-store" class="hash-link" aria-label="Direct link to Install store" title="Direct link to Install store">​</a></h3>
<p>Install stores are where final, ready to be consumed, artifacts are stored. The paths (which uniquely identify them) depend on how they are built.</p>
<p>Like build artifacts, install stores can be both local and global.</p>
<p>By default the global install store can be found at <code>~/.esy/3__../i</code> and the local one can be found at <code>&lt;project root&gt;/_esy/default/store/i/&lt;build_id&gt;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="package-stage-location">Package stage location<a href="#package-stage-location" class="hash-link" aria-label="Direct link to Package stage location" title="Direct link to Package stage location">​</a></h4>
<p>As packages are built and installed, they can fail for a lot of reasons. To prevent unusable entries in the install store, packages are first installed to a staging area and only once the steps complete successfully, are they moved to the final store.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="release">Release<a href="#release" class="hash-link" aria-label="Direct link to Release" title="Direct link to Release">​</a></h2>
<p>Before a binary executable can be distributed, <code>esy</code> can bundle runtime depedendencies together with it and install them alongside. As a proof-of-concept, Esy provides <code>npm-release</code> command that creates a npm package that bundle the runtime binaries with a postinstalls cript that correctly installs them and updates the binaries to load the depdendencies from this install path. Check out <a href="/docs/commands#esy-npm-release"><code>npm-release</code></a> to see what that looks like.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-notes">Additional notes<a href="#additional-notes" class="hash-link" aria-label="Direct link to Additional notes" title="Direct link to Additional notes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler">Compiler<a href="#compiler" class="hash-link" aria-label="Direct link to Compiler" title="Direct link to Compiler">​</a></h3>
<p>Esy expects the ocaml compiler from NPM and not Opam - this is tied to how esy solves dependency constraints for opam packages. Esy begins solving the package dependency graph with OCaml compiler at the root and expects the formula version spec to be either in NPM or source form. Packages like <code>@opam/ocaml</code>, <code>@opam/ocaml-base-compiler</code> are not looked at while solving.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/esy/esy/tree/master/docs/../docs/concepts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-12-08T13:39:03.000Z">Dec 8, 2023</time></b> by <b>prometheansacrifice</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/linking-workflow"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Linking Packages in Development</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Project Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-sandbox" class="table-of-contents__link toc-highlight">Project Sandbox</a></li><li><a href="#manifest" class="table-of-contents__link toc-highlight">Manifest</a></li><li><a href="#package" class="table-of-contents__link toc-highlight">Package</a></li><li><a href="#release-mode-and-development-mode" class="table-of-contents__link toc-highlight">Release mode and Development mode</a></li><li><a href="#root-package" class="table-of-contents__link toc-highlight">Root package</a></li><li><a href="#dependency" class="table-of-contents__link toc-highlight">Dependency</a></li><li><a href="#regular-dependency" class="table-of-contents__link toc-highlight">Regular dependency</a></li><li><a href="#development-time-dependency" class="table-of-contents__link toc-highlight">Development time dependency</a></li><li><a href="#build-time-dependency" class="table-of-contents__link toc-highlight">Build time dependency</a></li><li><a href="#peer-dependency" class="table-of-contents__link toc-highlight">Peer dependency</a></li><li><a href="#solution" class="table-of-contents__link toc-highlight">Solution</a></li><li><a href="#stores" class="table-of-contents__link toc-highlight">Stores</a><ul><li><a href="#sources" class="table-of-contents__link toc-highlight">Sources</a></li><li><a href="#build-store" class="table-of-contents__link toc-highlight">Build store</a></li><li><a href="#install-store" class="table-of-contents__link toc-highlight">Install store</a></li></ul></li><li><a href="#release" class="table-of-contents__link toc-highlight">Release</a></li><li><a href="#additional-notes" class="table-of-contents__link toc-highlight">Additional notes</a><ul><li><a href="#compiler" class="table-of-contents__link toc-highlight">Compiler</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/reasonml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/reasonml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/esy/esy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>