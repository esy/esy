<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">What&#x27;s new in esy 0.4.x | esy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://esy.sh/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://esy.sh/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://esy.sh/blog/2018/12/27/0.4.x"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="What&#x27;s new in esy 0.4.x | esy"><meta data-rh="true" name="description" content="This is the first public blog post on the esy dev blog.  We&#x27;ve been writing"><meta data-rh="true" property="og:description" content="This is the first public blog post on the esy dev blog.  We&#x27;ve been writing"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2018-12-27T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://twitter.com/andreypopp"><link data-rh="true" rel="icon" href="/img/block-red.svg"><link data-rh="true" rel="canonical" href="https://esy.sh/blog/2018/12/27/0.4.x"><link data-rh="true" rel="alternate" href="https://esy.sh/blog/2018/12/27/0.4.x" hreflang="en"><link data-rh="true" rel="alternate" href="https://esy.sh/blog/2018/12/27/0.4.x" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NVSKCZKSMV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="esy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="esy Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="esy" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.4ef937ee.css">
<script src="/assets/js/runtime~main.e4b80fb1.js" defer="defer"></script>
<script src="/assets/js/main.28dede5e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/block-red.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/block-red.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">esy</b></a><a class="navbar__item navbar__link" href="/docs/getting-started">Getting started</a><a class="navbar__item navbar__link" href="/docs/community">Community</a><a href="https://github.com/esy/esy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/01/12/0.6.0">New release - 0.6.0 ðŸŽ‰</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2018/12/27/0.4.x">What&#x27;s new in esy 0.4.x</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This is the first public blog post on the esy dev blog.  We&#x27;ve been writing"><header><h1 class="title_f1Hy" itemprop="headline">What&#x27;s new in esy 0.4.x</h1><div class="container_mt6G margin-vert--md"><time datetime="2018-12-27T00:00:00.000Z" itemprop="datePublished">December 27, 2018</time> Â· <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/andreypopp" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Andrey Popp</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>This is the first public blog post on the esy dev blog.  We&#x27;ve been writing
lots and lots of code to make esy work well, and until now we haven&#x27;t
communicated much about esy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-esy">What Is Esy<a href="#what-is-esy" class="hash-link" aria-label="Direct link to What Is Esy" title="Direct link to What Is Esy">â€‹</a></h2>
<p>If you&#x27;ve stumbled upon this and don&#x27;t know what esy is: esy is a
&quot;package.json&quot;-like workflow with first class support for native development.</p>
<p>Esy started as part of the <a href="https://reasonml.github.io" target="_blank" rel="noopener noreferrer">reason</a> effort with the goal of
implementing isolated and fast native Reason/OCaml project builds that were
familiar to JavaScript developers. Esy itself is compiled natively,
and can manage packages for most compiled languages (we use it to
package/distribute C/C++ packages in addition to Reason and OCaml).</p>
<p>Esy should be familiar to anyone with experience with Yarn, or npm (just run
<code>esy</code> inside a directory with a <code>package.json</code>).</p>
<ul>
<li>
<p>esy provides a unified package management workflow that can install/build
packages from <a href="https://opam.ocaml.org/" target="_blank" rel="noopener noreferrer">opam</a> as well as native packages published to <a href="https://npmjs.com/" target="_blank" rel="noopener noreferrer">npm</a></p>
</li>
<li>
<p>esy is not tied to any particular choice of a language/platform. Though we are
focusing on native Reason/OCaml first.</p>
</li>
<li>
<p>esy is build-system agnostic: you don&#x27;t have to port a project
to some specific build system to make it work with esy.</p>
</li>
<li>
<p>esy tries to provide &quot;hermetic&quot; builds so that builds of packages are
unaffected by the system software installed at global paths: if it works on my
machine then it should work on yours.</p>
</li>
<li>
<p>esy caches built packages across projects: with a warm cache, new projects
are cheap to initialise and build.</p>
</li>
</ul>
<p>This is not an exhaustive list of esy features but we think these are the most
important points.
Read more about esy&#x27;s motivations in the <a href="https://esy.sh/docs/en/what-why.html" target="_blank" rel="noopener noreferrer">esy docs</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esy-04x">esy 0.4.x<a href="#esy-04x" class="hash-link" aria-label="Direct link to esy 0.4.x" title="Direct link to esy 0.4.x">â€‹</a></h2>
<p>We recently promoted the 0.4.9 release of esy as <code>latest</code>. That means if you
execute:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% npm install -g esy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You&#x27;ll get <code>esy@0.4.9</code> which is packed with new features. Below we discuss some
of those.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugnplay-installations">Plug&#x27;n&#x27;play Installations<a href="#plugnplay-installations" class="hash-link" aria-label="Direct link to Plug&#x27;n&#x27;play Installations" title="Direct link to Plug&#x27;n&#x27;play Installations">â€‹</a></h3>
<p><strong>TL;DR:</strong> esy won&#x27;t populate <code>node_modules</code> directory with package sources
anymore, and esy now supports installing Plug&#x27;n&#x27;play(pnp) JavaScript
dependencies.</p>
<p>In its first iteration, <code>esy</code> initially installed all dependency sources into
<code>node_modules.</code> The benefit of this is that approach is that it was compatible
with popular JS tooling that relied on <code>node_modules</code> directory. The downside
was that for native packages (the main focus of esy) copying sources over from
cache to a <code>node_modules</code> directory was unnecessary and a waste of time and
disk space.</p>
<p>Furthermore, esy already builds projects purely out-of-source to ensure
reproducibility - installing into <code>node_modules</code> was merely done to adhere to
JavaScript&#x27;s conventions, and it actually risked compromising reproducibility.</p>
<p>So how could esy achieve the best of both worlds (JS runtime compatibility) and
(maintaining reproducible package builds)?</p>
<p>Fortunately, Yarn team figured out how to ditch <code>node_modules</code> for JS packages.
They designed a new convention called <a href="https://github.com/arcanis/rfcs/blob/6fc13d52f43eff45b7b46b707f3115cc63d0ea5f/accepted/0000-plug-an-play.md" target="_blank" rel="noopener noreferrer">Plug&#x27;n&#x27;play installations</a> (&quot;pnp&quot;).
Pnp is a way to run JS packages directly from the global package cache without
copying them to <code>node_modules</code>, while having Node, Webpack and other runtimes
to be able to resolve code from there.</p>
<p>As of 0.4.x, esy now places a copy of Yarn&#x27;s <code>pnp.js</code> runtime at installation
time into your project when installing JavaScript dependencies. That <code>pnp.js</code>
allows <code>node</code>&#x27;s module resolution to work even if dependencies are not in
<code>node_modules</code>. That makes <code>esy</code> JavaScript dependencies more like native
dependencies â€” they don&#x27;t have to be copied into <code>node_modules</code>.  Now,
even if your project has JavaScript dependencies, installations with a warm
cache are fast. Like, really fast (timings are for
<a href="https://github.com/esy-ocaml/hello-reason" target="_blank" rel="noopener noreferrer">esy-ocaml/hello-reason</a> project):</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% time esy install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info install 0.4.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info fetching: done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info installing: done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">esy install  0.08s user 0.06s system 93% cpu 0.142 total</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This also means that esy is now compatible with the most important parts of the
JS ecosystem: webpack, jest, flow, react-scripts, rollup, prettier and others
which have all been made pnp compatible thanks to the efforts of Yarn. A few
npm packages have still not made themselves pnp compatible â€” you should
file issues on those projects requesting that they support pnp, so that they
can be used with Yarn pnp, esy, and any other package manager that adopts
the pnp standard.</p>
<p>The workflow for working with JS (non-native) packages with esy looks like this:</p>
<ul>
<li>
<p>After installing dependencies as usual, execute pnp-enabled NodeJs
interpreter:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% esy node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Execute npm binaries installed with packages like webpack, flow, jest and
similar:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% esy webpack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">% esy flow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">% esy jest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alpha-preview-of-windows-support">Alpha preview of Windows support<a href="#alpha-preview-of-windows-support" class="hash-link" aria-label="Direct link to Alpha preview of Windows support" title="Direct link to Alpha preview of Windows support">â€‹</a></h3>
<p>Another huge feature which shipped in 0.4.x is preliminary native Windows
support! Install and use <code>esy</code> directly from native Windows command prompt
without needing to install anything else on your system.
Yes â€” it produces pure native Windows binaries that run on any Windows
machine.</p>
<p>Thanks to heroic effots of <a href="https://github.com/bryphe" target="_blank" rel="noopener noreferrer">Bryan Phelps</a> and foundational work by the
OCaml community developing Reason/OCaml, native project management on Windows
are now as easy as on macOS/Linux:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C:\Users\Andrey&gt; git clone https://github.com/facebook/reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Users\Andrey&gt; cd reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Users\Andrey&gt; esy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info install 0.4.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info fetching: done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info installing: done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There is more to say about how Windows support is implemented in esy and we
will make sure there&#x27;s a dedicated post on this in the near future where we
will describe some of the foundational compiler and tooling work for Windows
that the OCaml community has invested in.</p>
<p>Note though that Windows support is still considered alpha â€” there are
rough edges which needs to be fixed. If you are a developer who works on Windows
and want to help â€” jump into <a href="https://github.com/esy/esy/issues?q=is%3Aissue+is%3Aopen+label%3Awindows" target="_blank" rel="noopener noreferrer">esy/esy issues labelled
&quot;Windows&quot;</a> and help us! The good thing is that we have CI running on
Windows too (a big thank you to <a href="https://github.com/ulrikstrid" target="_blank" rel="noopener noreferrer">Ulrik Strid</a> for making sure a large
part of our test suite can run on Windows).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-04x-goodies">Other 0.4.x goodies<a href="#other-04x-goodies" class="hash-link" aria-label="Direct link to Other 0.4.x goodies" title="Direct link to Other 0.4.x goodies">â€‹</a></h3>
<p>There are lots and lots of changes in the 0.4.x release line, which could have
arguably been versioned <code>0.5.x</code>. In the future, we are aiming for more
incremental releases.</p>
<p>There are too many new features to list, but to highlight a couple of entries
in the <a href="https://github.com/esy/esy/blob/496923fce0412f1e3e81ebfa8797a4e09f28ecd4/CHANGELOG.md#048--latest" target="_blank" rel="noopener noreferrer">CHANGELOG</a>:</p>
<ul>
<li>
<p>Improved workflow for linked packages: working on multiple packages in
development is now more efficient and esy allows more flexibility in how you
organize your project.</p>
</li>
<li>
<p>Support for multiple isolated environments constructed on the fly from
package configs. Now you may have multiple <code>.json</code> configurations in your
project root (similar to a monorepo) and install/build them in total
isolation. If you have a <code>package.dev.json</code> file you can use it explicitly:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% esy @package.dev.json build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Flexible package override mechanism which allows turning any source code
distribution into an esy package, bringing it into your project with all the
benefits of the esy workflow: cached builds, isolated environments, etc.
This lets you turn any git hash or URL into an esy package without forking
it, even if that package doesn&#x27;t have a <code>package.json</code> file.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;resolutions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pkg-config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;source&quot;: &quot;https://...&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;override&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;build&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;./configure --prefix #{self.install}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;make&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;install&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;make install&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Numerous improvements to esy&#x27;s user interface: new commands (<code>esy show</code> and
<code>esy status</code>), faster <code>esy x ...</code> command invocations, a new set of low level
plumbing commands for &quot;scriptable&quot; esy workflows, ...</p>
</li>
<li>
<p>New <code>esy.lock</code> format which is easier to review on updates.</p>
</li>
<li>
<p>Bug fixes, bug fixes, bug fixes, ...</p>
</li>
</ul>
<p>Some of these features are not documented yet properly but we&#x27;ll make sure we do
this and then post updates on this blog.</p>
<p>Stay tuned!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2020/01/12/0.6.0"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">New release - 0.6.0 ðŸŽ‰</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-esy" class="table-of-contents__link toc-highlight">What Is Esy</a></li><li><a href="#esy-04x" class="table-of-contents__link toc-highlight">esy 0.4.x</a><ul><li><a href="#plugnplay-installations" class="table-of-contents__link toc-highlight">Plug&#39;n&#39;play Installations</a></li><li><a href="#alpha-preview-of-windows-support" class="table-of-contents__link toc-highlight">Alpha preview of Windows support</a></li><li><a href="#other-04x-goodies" class="table-of-contents__link toc-highlight">Other 0.4.x goodies</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/reasonml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/reasonml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/esy/esy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>